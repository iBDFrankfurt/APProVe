#==================================================================================
# APProVe Local Development Environment Configuration
# Version: 4.0.0
# Last Updated: 2026-01-29
#==================================================================================

#----------------------------------------------------------------------------------
# EXTERNAL DOCKER IMAGES
#----------------------------------------------------------------------------------
KEYCLOAK_IMAGE=quay.io/keycloak/keycloak:23.0.4
MONGO_IMAGE=mongo:7-jammy
POSTGRES_IMAGE=postgres:16

#----------------------------------------------------------------------------------
# APPROVE SERVICE IMAGES
# Registry: registry.gitlab.ibdf-frankfurt.de
#----------------------------------------------------------------------------------
CONFIG_IMAGE=registry.gitlab.ibdf-frankfurt.de/proskive/uct-config-service/master:4.0.0
EUREKA_IMAGE=registry.gitlab.ibdf-frankfurt.de/proskive/uct-eureka-service/master:4.0.0
BACKEND_IMAGE=registry.gitlab.ibdf-frankfurt.de/proskive/uct-backend-service/4.0.0:4.0.0
FRONTEND_IMAGE=registry.gitlab.ibdf-frankfurt.de/proskive/uct-frontend-service/4.0.0:4.0.0
USER_IMAGE=registry.gitlab.ibdf-frankfurt.de/proskive/uct-user-service/master:4.0.0
COMMENT_IMAGE=registry.gitlab.ibdf-frankfurt.de/proskive/comment-service/master:4.0.0
EMAIL_IMAGE=registry.gitlab.ibdf-frankfurt.de/proskive/uct-email-service/master:4.0.0
AUTOMATION_IMAGE=registry.gitlab.ibdf-frankfurt.de/proskive/uct-automation-service/master:4.0.0
MANUAL_IMAGE=registry.gitlab.ibdf-frankfurt.de/uct/open-approve/uct-manual-service-v2:latest
DRAFT_IMAGE=registry.gitlab.ibdf-frankfurt.de/uct/open-approve/uct-draft-service:0.5.0
IMPORT_IMAGE=registry.gitlab.ibdf-frankfurt.de/proskive/uct-project-import-service/develop:4.0.0

#----------------------------------------------------------------------------------
# POSTGRESQL CONFIGURATION
#----------------------------------------------------------------------------------
APPROVE_POSTGRES_USER=postgres_admin
APPROVE_POSTGRES_PASSWORD=postgres_admin_pass
APPROVE_AUTH_DB=auth_db
APPROVE_PROJECT_DB=approve_db
POSTGRES_CONTAINER_URL=approve.postgres
POSTGRES_PORT=5432

#----------------------------------------------------------------------------------
# MONGODB CONFIGURATION
#----------------------------------------------------------------------------------
APPROVE_MONGO_USER=mongo_admin
APPROVE_MONGO_PASSWORD=mongopass
MONGO_URL=mongodb://approve.mongo
MONGO_PORT=27017

#----------------------------------------------------------------------------------
# KEYCLOAK CONFIGURATION
#----------------------------------------------------------------------------------
# Admin credentials for Keycloak management console
APPROVE_KEYCLOAK_ADMIN_USER=adminuser
APPROVE_KEYCLOAK_ADMIN_PASSWORD=adminpass

# Keycloak realm and client configuration
KEYCLOAK_REALM_NAME=local-test
APPROVE_CLIENT_ID=APProVe-Web

# Service account for REST API access
KEYCLOAK_USER_NAME=restuser
KEYCLOAK_USER_PASSWORD=restuser_pass
KEYCLOAK_REST_CLIENT_ID=APProVe-Web

# Keycloak service URL
APPROVE_KEYCLOAK_URL=http://approve.auth:8080

#----------------------------------------------------------------------------------
# APPROVE APPLICATION ADMIN
#----------------------------------------------------------------------------------
APPROVE_ADMIN_USER=approve-admin
APPROVE_ADMIN_PASSWORD=approve-password
APPROVE_ADMIN_EMAIL=admin@mail.de

#----------------------------------------------------------------------------------
# INTERNAL SERVICE URLs
#----------------------------------------------------------------------------------
APPROVE_FRONTEND_URL=http://approve.frontend:8001
APPROVE_BACKEND_URL=http://approve.backend:8000
APPROVE_USER_URL=http://approve.user:9001
APPROVE_AUTOMATION_URL=http://approve.automation:3233
APPROVE_COMMENTS_URL=http://approve.comment:3234
APPROVE_MAIL_URL=http://approve.mails:4234
APPROVE_MANUAL_URL=http://localhost:443
APPROVE_DRAFT_URL=http://approve.draft:8002
APPROVE_IMPORT_URL=http://approve.import:8003

#----------------------------------------------------------------------------------
# SERVICE DISCOVERY (EUREKA)
#----------------------------------------------------------------------------------
EUREKA_URL=http://approve.eureka:8761/eureka
EUREKA_CONTAINER_URL=approve.eureka
EUREKA_PORT=8761

#----------------------------------------------------------------------------------
# CONFIGURATION SERVICE
#----------------------------------------------------------------------------------
CONFIG_CONTAINER_URL=approve.config
CONFIG_PORT=8888

#----------------------------------------------------------------------------------
# SERVICE PORTS (HOST MAPPING)
#----------------------------------------------------------------------------------
AUTH_PORT=8080
BACKEND_PORT=8000
FRONTEND_PORT=8001
USER_PORT=9001
COMMENT_PORT=3234
EMAIL_PORT=4234
AUTOMATION_PORT=3233
MANUAL_PORT=443
DRAFT_PORT=8002
IMPORT_PORT=8003

#----------------------------------------------------------------------------------
# SECURITY & ENCRYPTION
# WARNING: Change ENCRYPTION_KEY for production deployments
#----------------------------------------------------------------------------------
ENCRYPTION_KEY=1916668690d83b20ed9176039111e15b568817d3e7be215f2a0a1ea5b82f8a27

#----------------------------------------------------------------------------------
# PERFORMANCE & RESOURCE LIMITS
#----------------------------------------------------------------------------------
# Java heap settings for microservices
JAVA_OPTS_BACKEND='-XX:+UseSerialGC -XX:MaxRAM=1024m'
JAVA_OPTS_EUREKA='-XX:+UseSerialGC -XX:MaxRAM=512m -Xmx1G -Xms80m'

#----------------------------------------------------------------------------------
# LOGGING & DEBUGGING
# Uncomment to enable debug logging
#----------------------------------------------------------------------------------
# LOG_LEVEL=DEBUG
# SPRING_PROFILES_ACTIVE=debug

#----------------------------------------------------------------------------------
# DEVELOPMENT FLAGS
#----------------------------------------------------------------------------------
COMPOSE_PROJECT_NAME=approve-local
COMPOSE_HTTP_TIMEOUT=200